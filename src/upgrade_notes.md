2019-10-04 09:58

# running php upgrade inspect see: https://github.com/silverstripe/silverstripe-upgrader
cd /var/www/upgrades/upgradeto4
php /var/www/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code inspect /var/www/upgrades/upgradeto4/dataobjectpreview/src  --root-dir=/var/www/upgrades/upgradeto4 --write -vvv
Array
(
    [0] => Running post-upgrade on "/var/www/upgrades/upgradeto4/dataobjectpreview/src"
    [1] => [2019-10-04 09:58:19] Applying ApiChangeWarningsRule to DataObjectPreviewInterface.php...
    [2] => [2019-10-04 09:58:19] Applying UpdateVisibilityRule to DataObjectPreviewInterface.php...
    [3] => [2019-10-04 09:58:19] Applying ApiChangeWarningsRule to DataObjectPreviewer.php...
    [4] => 
    [5] => In Broker.php line 215:
    [6] => 
    [7] =>   [PHPStan\Broker\ClassAutoloadingException]
    [8] =>   Class GridField_ColumnProvider not found and could not be autoloaded.
    [9] => 
    [10] => 
    [11] => Exception trace:
    [12] =>  () at /var/www/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [13] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [14] =>  spl_autoload_call() at /var/www/upgrades/upgradeto4/dataobjectpreview/src/Gridfield/GridFieldDataObjectPreview.php:15
    [15] =>  require_once() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [16] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [17] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [18] =>  spl_autoload_call() at n/a:n/a
    [19] =>  class_exists() at /var/www/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [20] =>  PHPStan\Broker\Broker->hasClass() at /var/www/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [21] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [22] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [23] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [24] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [25] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [26] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [27] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [28] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [29] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [30] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [31] =>  PhpParser\NodeTraverser->traverse() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [32] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [33] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [34] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [35] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [36] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/upgrader/vendor/symfony/console/Command/Command.php:255
    [37] =>  Symfony\Component\Console\Command\Command->run() at /var/www/upgrader/vendor/symfony/console/Application.php:924
    [38] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/upgrader/vendor/symfony/console/Application.php:273
    [39] =>  Symfony\Component\Console\Application->doRun() at /var/www/upgrader/vendor/symfony/console/Application.php:149
    [40] =>  Symfony\Component\Console\Application->run() at /var/www/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [41] => 
    [42] => In Broker.php line 215:
    [43] => 
    [44] =>   [PHPStan\Broker\ClassAutoloadingException]
    [45] =>   Class DatalessField not found and could not be autoloaded.
    [46] => 
    [47] => 
    [48] => Exception trace:
    [49] =>  () at /var/www/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:215
    [50] =>  PHPStan\Broker\Broker->PHPStan\Broker\{closure}() at n/a:n/a
    [51] =>  spl_autoload_call() at /var/www/upgrades/upgradeto4/dataobjectpreview/src/Field/DataObjectPreviewField.php:14
    [52] =>  require_once() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [53] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [54] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [55] =>  spl_autoload_call() at /var/www/upgrades/upgradeto4/dataobjectpreview/src/Gridfield/GridFieldDataObjectPreview.php:15
    [56] =>  require_once() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:159
    [57] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadItem() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Autoload/CollectionAutoloader.php:100
    [58] =>  SilverStripe\Upgrader\Autoload\CollectionAutoloader->loadClass() at n/a:n/a
    [59] =>  spl_autoload_call() at n/a:n/a
    [60] =>  class_exists() at /var/www/upgrader/vendor/phpstan/phpstan/src/Broker/Broker.php:220
    [61] =>  PHPStan\Broker\Broker->hasClass() at /var/www/upgrader/vendor/phpstan/phpstan/src/Rules/ClassCaseSensitivityCheck.php:27
    [62] =>  PHPStan\Rules\ClassCaseSensitivityCheck->checkClassNames() at /var/www/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:117
    [63] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->checkClasses() at /var/www/upgrader/vendor/phpstan/phpstan/src/Rules/Namespaces/ExistingNamesInUseRule.php:62
    [64] =>  PHPStan\Rules\Namespaces\ExistingNamesInUseRule->processNode() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:80
    [65] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\{closure}() at /var/www/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:316
    [66] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [67] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:699
    [68] =>  PHPStan\Analyser\NodeScopeResolver->processNode() at /var/www/upgrader/vendor/phpstan/phpstan/src/Analyser/NodeScopeResolver.php:176
    [69] =>  PHPStan\Analyser\NodeScopeResolver->processNodes() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/Visitor/PHPStanScopeVisitor.php:82
    [70] =>  SilverStripe\Upgrader\UpgradeRule\PHP\Visitor\PHPStanScopeVisitor->enterNode() at /var/www/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:159
    [71] =>  PhpParser\NodeTraverser->traverseArray() at /var/www/upgrader/vendor/nikic/php-parser/lib/PhpParser/NodeTraverser.php:85
    [72] =>  PhpParser\NodeTraverser->traverse() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/PHPUpgradeRule.php:28
    [73] =>  SilverStripe\Upgrader\UpgradeRule\PHP\PHPUpgradeRule->transformWithVisitors() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:88
    [74] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->mutateSourceWithVisitors() at /var/www/upgrader/vendor/silverstripe/upgrader/src/UpgradeRule/PHP/ApiChangeWarningsRule.php:60
    [75] =>  SilverStripe\Upgrader\UpgradeRule\PHP\ApiChangeWarningsRule->upgradeFile() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Upgrader.php:61
    [76] =>  SilverStripe\Upgrader\Upgrader->upgrade() at /var/www/upgrader/vendor/silverstripe/upgrader/src/Console/InspectCommand.php:88
    [77] =>  SilverStripe\Upgrader\Console\InspectCommand->execute() at /var/www/upgrader/vendor/symfony/console/Command/Command.php:255
    [78] =>  Symfony\Component\Console\Command\Command->run() at /var/www/upgrader/vendor/symfony/console/Application.php:924
    [79] =>  Symfony\Component\Console\Application->doRunCommand() at /var/www/upgrader/vendor/symfony/console/Application.php:273
    [80] =>  Symfony\Component\Console\Application->doRun() at /var/www/upgrader/vendor/symfony/console/Application.php:149
    [81] =>  Symfony\Component\Console\Application->run() at /var/www/upgrader/vendor/silverstripe/upgrader/bin/upgrade-code:55
    [82] => 
    [83] => inspect [-d|--root-dir ROOT-DIR] [-w|--write] [--skip-visibility] [--] <path>
    [84] => 
)
